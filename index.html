<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5485905203359472"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Steel Profile Calculator Pro - Engineering Tool</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container-fluid p-0">
        <header class="bg-white py-2 border-bottom sticky-top shadow-sm">
            <div class="container">
                <div class="d-flex justify-content-between align-items-center">
                    <div class="d-flex align-items-center">
                        <img src="img/logo.svg" alt="Steel Profile Calculator Logo" class="me-3" width="40" height="40">
                        <div>
                            <h1 class="h4 mb-0 text-dark">Steel Profile Calculator Pro</h1>
                            <p class="mb-0 small text-secondary">Professional engineering tool for structural calculations</p>
                        </div>
                    </div>
                    <div class="d-flex align-items-center gap-3">
                        <div class="dropdown">
                            <button class="btn btn-outline-secondary btn-sm dropdown-toggle" type="button" id="standardsDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="bi bi-globe me-1"></i> Standards
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="standardsDropdown">
                                <li><h6 class="dropdown-header">Profile Standards</h6></li>
                                <li><a class="dropdown-item active" href="#" data-standard="en">EN (European)</a></li>
                                <li><a class="dropdown-item" href="#" data-standard="astm">ASTM (American)</a></li>
                                <li><a class="dropdown-item" href="#" data-standard="jis">JIS (Japanese)</a></li>
                                <li><a class="dropdown-item" href="#" data-standard="gb">GB (Chinese)</a></li>
                                <li><a class="dropdown-item" href="#" data-standard="is">IS (Indian)</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><h6 class="dropdown-header">Unit System</h6></li>
                                <li><a class="dropdown-item active" href="#" data-unit-system="metric">Metric (mm, kg)</a></li>
                                <li><a class="dropdown-item" href="#" data-unit-system="imperial">Imperial (in, lb)</a></li>
                            </ul>
                        </div>
                        <div class="theme-toggle" id="theme-toggle" title="Toggle dark mode">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-moon-stars" viewBox="0 0 16 16" id="theme-icon">
                                <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z"/>
                                <path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/>
                            </svg>
                        </div>
                        <span class="badge bg-primary px-2 py-1 rounded-pill">v2.0</span>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- Tabs for different calculation modes -->
        <div class="container mt-2 mb-3">
            <ul class="nav nav-tabs" id="calculationTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-content" type="button" role="tab" aria-controls="profile-content" aria-selected="true">
                        <i class="bi bi-grid-3x3-gap me-1"></i> Profile Calculator
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="beam-tab" data-bs-toggle="tab" data-bs-target="#beam-content" type="button" role="tab" aria-controls="beam-content" aria-selected="false">
                        <i class="bi bi-rulers me-1"></i> Beam Calculator
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="connection-tab" data-bs-toggle="tab" data-bs-target="#connection-content" type="button" role="tab" aria-controls="connection-content" aria-selected="false">
                        <i class="bi bi-link-45deg me-1"></i> Connection Designer
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="reference-tab" data-bs-toggle="tab" data-bs-target="#reference-content" type="button" role="tab" aria-controls="reference-content" aria-selected="false">
                        <i class="bi bi-journal-text me-1"></i> Reference Data
                    </button>
                </li>
            </ul>
        </div>

        <main class="container mb-4">
            <!-- Tab content container -->
            <div class="tab-content" id="calculationTabsContent">
                <!-- Profile Calculator Tab Content -->
                <div class="tab-pane fade show active" id="profile-content" role="tabpanel" aria-labelledby="profile-tab">
                    <!-- Project Info Section -->
                    <section id="project-info" class="mb-3">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center py-2">
                                <h2 class="h6 mb-0">Project Information</h2>
                                <span class="badge bg-primary px-2 py-1 rounded-pill">Pro Edition</span>
                            </div>
                            <div class="card-body py-3">
                                <div class="row g-3">
                                    <div class="col-md-6 mb-2">
                                        <label for="project-name" class="form-label small">Project Name</label>
                                        <div class="input-group input-group-sm">
                                            <span class="input-group-text">
                                                <i class="bi bi-building"></i>
                                            </span>
                                            <input type="text" class="form-control" id="project-name" placeholder="Enter project name">
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-2">
                                        <label for="company-name" class="form-label small">Company Name</label>
                                        <div class="input-group input-group-sm">
                                            <span class="input-group-text">
                                                <i class="bi bi-briefcase"></i>
                                            </span>
                                            <input type="text" class="form-control" id="company-name" placeholder="Enter company name">
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-2">
                                        <label for="date" class="form-label small">Date</label>
                                        <div class="input-group input-group-sm">
                                            <span class="input-group-text">
                                                <i class="bi bi-calendar"></i>
                                            </span>
                                            <input type="date" class="form-control" id="date">
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-2">
                                        <label for="reference" class="form-label small">Reference Number</label>
                                        <div class="input-group input-group-sm">
                                            <span class="input-group-text">
                                                <i class="bi bi-hash"></i>
                                            </span>
                                            <input type="text" class="form-control" id="reference" placeholder="Enter reference number">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Steel Profiles Section -->
                    <section id="materials-section" class="mb-3">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center py-2">
                                <div class="d-flex align-items-center">
                                    <h2 class="h6 mb-0 me-2">Steel Profiles</h2>
                                    <div class="dropdown ms-2">
                                        <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" id="profileStandardDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                            <span id="current-standard">EN 10025</span>
                                        </button>
                                        <ul class="dropdown-menu" aria-labelledby="profileStandardDropdown">
                                            <li><h6 class="dropdown-header">European Standards</h6></li>
                                            <li><a class="dropdown-item active" href="#" data-standard-code="en10025">EN 10025 (Structural Steel)</a></li>
                                            <li><a class="dropdown-item" href="#" data-standard-code="en10210">EN 10210 (Hot Finished Hollow Sections)</a></li>
                                            <li><a class="dropdown-item" href="#" data-standard-code="en10219">EN 10219 (Cold Formed Hollow Sections)</a></li>
                                            <li><hr class="dropdown-divider"></li>
                                            <li><h6 class="dropdown-header">American Standards</h6></li>
                                            <li><a class="dropdown-item" href="#" data-standard-code="astm-a36">ASTM A36 (Carbon Steel)</a></li>
                                            <li><a class="dropdown-item" href="#" data-standard-code="aisc">AISC (Structural Shapes)</a></li>
                                            <li><hr class="dropdown-divider"></li>
                                            <li><h6 class="dropdown-header">Other Standards</h6></li>
                                            <li><a class="dropdown-item" href="#" data-standard-code="jis-g3101">JIS G3101 (Japanese)</a></li>
                                            <li><a class="dropdown-item" href="#" data-standard-code="is2062">IS 2062 (Indian)</a></li>
                                            <li><a class="dropdown-item" href="#" data-standard-code="gb-t1591">GB/T 1591 (Chinese)</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div>
                                    <button id="import-profiles" class="btn btn-outline-secondary btn-sm me-2" title="Import profiles from CSV or Excel">
                                        <i class="bi bi-file-earmark-arrow-up me-1"></i> Import
                                    </button>
                                    <button id="add-row" class="btn btn-primary btn-sm rounded-pill px-3">
                                        <i class="bi bi-plus-lg me-1"></i> Add Profile
                                    </button>
                                </div>
                            </div>
                            <div class="card-body p-0">
                                <div class="table-responsive">
                                    <table class="table table-sm table-hover mb-0" id="materials-table">
                                        <colgroup>
                                            <col class="col-profile-type">
                                            <col class="col-profile-size">
                                            <col class="col-length">
                                            <col class="col-unit">
                                            <col class="col-quantity">
                                            <col class="col-weight-per-meter">
                                            <col class="col-total-weight">
                                            <col class="col-volume">
                                            <col class="col-surface-area">
                                            <col class="col-actions">
                                        </colgroup>
                                        <thead class="table-light">
                                            <tr>
                                                <th class="small text-uppercase">PROFILE TYPE</th>
                                                <th class="small text-uppercase">PROFILE SIZE</th>
                                                <th class="small text-uppercase">LENGTH</th>
                                                <th class="small text-uppercase">UNIT</th>
                                                <th class="small text-uppercase">QUANTITY</th>
                                                <th class="small text-uppercase">WEIGHT/M</th>
                                                <th class="small text-uppercase">TOTAL WEIGHT</th>
                                                <th class="small text-uppercase">VOLUME</th>
                                                <th class="small text-uppercase">SURFACE AREA</th>
                                                <th class="small text-uppercase text-center">ACTIONS</th>
                                            </tr>
                                        </thead>
                                        <tbody id="materials-table-body">
                                            <!-- Rows will be added here dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                                <div class="p-3 bg-light text-center d-none" id="no-materials-message">
                                    <p class="mb-0 text-muted">No profiles added yet. Click "Add Profile" to get started.</p>
                                </div>
                            </div>
                            <div class="card-footer bg-light py-2">
                                <div class="d-flex justify-content-between align-items-center">
                                    <small class="text-muted"><i class="bi bi-info-circle me-1"></i> Profile data according to <span id="standard-reference">EN 10025:2004</span></small>
                                    <div>
                                        <button class="btn btn-sm btn-outline-secondary" id="clear-all-profiles">
                                            <i class="bi bi-trash me-1"></i> Clear All
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

            <!-- Totals Section -->
            <section id="totals-section" class="mb-3">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center py-2">
                        <h2 class="h6 mb-0">Project Analysis</h2>
                        <div>
                            <button class="btn btn-sm btn-outline-primary me-2" id="show-chart-btn">
                                <i class="bi bi-bar-chart me-1"></i> View Charts
                            </button>
                            <span class="badge bg-secondary px-2 py-1 rounded-pill">Summary</span>
                        </div>
                    </div>
                    <div class="card-body py-3">
                        <div class="row g-3">
                            <div class="col-md-3 mb-2">
                                <label class="form-label small">Total Weight</label>
                                <div class="d-flex align-items-center">
                                    <span class="input-icon me-2">
                                        <i class="bi bi-speedometer"></i>
                                    </span>
                                    <input type="text" class="form-control form-control-sm me-2" id="total-weight" readonly>
                                    <span class="unit-label" id="weight-unit">kg</span>
                                </div>
                                <div class="form-text small mt-1">
                                    <a href="#" class="text-decoration-none" id="convert-weight">
                                        <i class="bi bi-arrow-left-right"></i> Convert to <span id="alt-weight-unit">lb</span>
                                    </a>
                                </div>
                            </div>
                            <div class="col-md-3 mb-2">
                                <label class="form-label small">Total Volume</label>
                                <div class="d-flex align-items-center">
                                    <span class="input-icon me-2">
                                        <i class="bi bi-box"></i>
                                    </span>
                                    <input type="text" class="form-control form-control-sm me-2" id="total-volume" readonly>
                                    <span class="unit-label" id="volume-unit">m³</span>
                                </div>
                                <div class="form-text small mt-1">
                                    <a href="#" class="text-decoration-none" id="convert-volume">
                                        <i class="bi bi-arrow-left-right"></i> Convert to <span id="alt-volume-unit">ft³</span>
                                    </a>
                                </div>
                            </div>
                            <div class="col-md-3 mb-2">
                                <label class="form-label small">Total Surface Area</label>
                                <div class="d-flex align-items-center">
                                    <span class="input-icon me-2">
                                        <i class="bi bi-aspect-ratio"></i>
                                    </span>
                                    <input type="text" class="form-control form-control-sm me-2" id="total-surface-area" readonly>
                                    <span class="unit-label" id="area-unit">m²</span>
                                </div>
                                <div class="form-text small mt-1">
                                    <a href="#" class="text-decoration-none" id="convert-area">
                                        <i class="bi bi-arrow-left-right"></i> Convert to <span id="alt-area-unit">ft²</span>
                                    </a>
                                </div>
                            </div>
                            <div class="col-md-3 mb-2">
                                <label class="form-label small">Cost Estimate</label>
                                <div class="d-flex align-items-center">
                                    <span class="input-icon me-2">
                                        <i class="bi bi-currency-dollar"></i>
                                    </span>
                                    <input type="text" class="form-control form-control-sm me-2" id="total-cost" readonly>
                                    <span class="unit-label">USD</span>
                                </div>
                                <div class="form-text small mt-1">
                                    <a href="#" data-bs-toggle="modal" data-bs-target="#costSettingsModal" class="text-decoration-none">
                                        <i class="bi bi-gear"></i> Configure cost settings
                                    </a>
                                </div>
                            </div>
                        </div>
                        <hr class="my-3">
                        <div class="row">
                            <div class="col-md-4 mb-2">
                                <label for="material-density" class="form-label small">Material Density</label>
                                <div class="d-flex align-items-center">
                                    <span class="input-icon me-2">
                                        <i class="bi bi-droplet-fill"></i>
                                    </span>
                                    <input type="text" class="form-control form-control-sm me-2" id="material-density" value="7850">
                                    <span class="unit-label" id="density-unit">kg/m³</span>
                                </div>
                                <div class="form-text small mt-1" id="density-note">
                                    <i class="bi bi-info-circle"></i> Standard steel density: 7850 kg/m³
                                </div>
                            </div>
                            <div class="col-md-4 mb-2">
                                <label for="material-grade" class="form-label small">Material Grade</label>
                                <div class="d-flex align-items-center">
                                    <span class="input-icon me-2">
                                        <i class="bi bi-card-checklist"></i>
                                    </span>
                                    <select class="form-select form-select-sm" id="material-grade">
                                        <option value="S235">S235 (EN 10025-2)</option>
                                        <option value="S275">S275 (EN 10025-2)</option>
                                        <option value="S355" selected>S355 (EN 10025-2)</option>
                                        <option value="S420">S420 (EN 10025-3)</option>
                                        <option value="S460">S460 (EN 10025-3)</option>
                                        <option value="A36">A36 (ASTM)</option>
                                        <option value="A572-50">A572 Gr.50 (ASTM)</option>
                                    </select>
                                </div>
                                <div class="form-text small mt-1">
                                    <i class="bi bi-info-circle"></i> Yield strength: <span id="yield-strength">355</span> MPa
                                </div>
                            </div>
                            <div class="col-md-4 mb-2">
                                <label for="safety-factor" class="form-label small">Safety Factor</label>
                                <div class="d-flex align-items-center">
                                    <span class="input-icon me-2">
                                        <i class="bi bi-shield-check"></i>
                                    </span>
                                    <input type="number" class="form-control form-control-sm" id="safety-factor" value="1.5" min="1.0" max="3.0" step="0.1">
                                </div>
                                <div class="form-text small mt-1">
                                    <i class="bi bi-info-circle"></i> Recommended: 1.5 for static loads
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Export Section -->
            <section id="export-section" class="mb-4 mt-3">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center py-2">
                        <h2 class="h6 mb-0">Export & Documentation</h2>
                        <span class="badge bg-primary px-2 py-1 rounded-pill">Pro Feature</span>
                    </div>
                    <div class="card-body py-3">
                        <div class="row">
                            <div class="col-md-7">
                                <h6 class="small fw-bold mb-3">Export Options</h6>
                                <div class="d-flex flex-wrap gap-2 mb-3">
                                    <button id="export-csv" class="btn btn-outline-secondary">
                                        <i class="bi bi-filetype-csv me-1"></i> Export to CSV
                                    </button>
                                    <button id="export-pdf" class="btn btn-primary">
                                        <i class="bi bi-filetype-pdf me-1"></i> Download PDF Report
                                    </button>
                                    <button id="export-excel" class="btn btn-outline-success">
                                        <i class="bi bi-file-earmark-excel me-1"></i> Export to Excel
                                    </button>
                                    <button id="export-cad" class="btn btn-outline-info">
                                        <i class="bi bi-bounding-box me-1"></i> Export to CAD
                                    </button>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="include-calculations" checked>
                                    <label class="form-check-label small" for="include-calculations">
                                        Include detailed calculations in report
                                    </label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="include-material-specs" checked>
                                    <label class="form-check-label small" for="include-material-specs">
                                        Include material specifications
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-5">
                                <h6 class="small fw-bold mb-3">Project Sharing</h6>
                                <div class="input-group input-group-sm mb-3">
                                    <span class="input-group-text"><i class="bi bi-link-45deg"></i></span>
                                    <input type="text" class="form-control" id="share-link" value="https://steelcalc.pro/p/2f9a8b3c" readonly>
                                    <button class="btn btn-outline-secondary" type="button" id="copy-link">
                                        <i class="bi bi-clipboard"></i> Copy
                                    </button>
                                </div>
                                <div class="d-flex gap-2">
                                    <button class="btn btn-sm btn-outline-primary" id="save-to-cloud">
                                        <i class="bi bi-cloud-arrow-up me-1"></i> Save to Cloud
                                    </button>
                                    <button class="btn btn-sm btn-outline-secondary" id="load-from-cloud">
                                        <i class="bi bi-cloud-download me-1"></i> Load Project
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Beam Calculator Tab Content -->
            <div class="tab-pane fade" id="beam-content" role="tabpanel" aria-labelledby="beam-tab">
                <div class="row mb-4">
                    <div class="col-12 text-center py-5">
                        <i class="bi bi-rulers" style="font-size: 3rem;"></i>
                        <h4 class="mt-3">Beam Calculator</h4>
                        <p class="text-muted">Calculate bending moments, shear forces, and deflections for various beam configurations.</p>
                        <button class="btn btn-primary mt-2" id="activate-beam-calculator">
                            <i class="bi bi-unlock me-1"></i> Activate This Module
                        </button>
                    </div>
                </div>
            </div>

            <!-- Connection Designer Tab Content -->
            <div class="tab-pane fade" id="connection-content" role="tabpanel" aria-labelledby="connection-tab">
                <div class="row mb-4">
                    <div class="col-12 text-center py-5">
                        <i class="bi bi-link-45deg" style="font-size: 3rem;"></i>
                        <h4 class="mt-3">Connection Designer</h4>
                        <p class="text-muted">Design and analyze bolted and welded connections according to international standards.</p>
                        <button class="btn btn-primary mt-2" id="activate-connection-designer">
                            <i class="bi bi-unlock me-1"></i> Activate This Module
                        </button>
                    </div>
                </div>
            </div>

            <!-- Reference Data Tab Content -->
            <div class="tab-pane fade" id="reference-content" role="tabpanel" aria-labelledby="reference-tab">
                <div class="row mb-4">
                    <div class="col-12 text-center py-5">
                        <i class="bi bi-journal-text" style="font-size: 3rem;"></i>
                        <h4 class="mt-3">Reference Data</h4>
                        <p class="text-muted">Access comprehensive reference data for steel profiles, material properties, and design codes.</p>
                        <button class="btn btn-primary mt-2" id="activate-reference-data">
                            <i class="bi bi-unlock me-1"></i> Activate This Module
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Cost Settings Modal -->
    <div class="modal fade" id="costSettingsModal" tabindex="-1" aria-labelledby="costSettingsModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="costSettingsModalLabel">Cost Estimation Settings</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="material-cost" class="form-label">Material Cost (per kg)</label>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input type="number" class="form-control" id="material-cost" value="1.20" step="0.01" min="0">
                        </div>
                        <div class="form-text">Standard structural steel price: $1.20/kg</div>
                    </div>
                    <div class="mb-3">
                        <label for="fabrication-cost" class="form-label">Fabrication Cost (per kg)</label>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input type="number" class="form-control" id="fabrication-cost" value="0.80" step="0.01" min="0">
                        </div>
                        <div class="form-text">Includes cutting, drilling, and welding</div>
                    </div>
                    <div class="mb-3">
                        <label for="finishing-cost" class="form-label">Surface Treatment (per m²)</label>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input type="number" class="form-control" id="finishing-cost" value="15.00" step="0.01" min="0">
                        </div>
                        <div class="form-text">Standard hot-dip galvanizing</div>
                    </div>
                    <div class="mb-3">
                        <label for="currency" class="form-label">Currency</label>
                        <select class="form-select" id="currency">
                            <option value="USD" selected>USD ($)</option>
                            <option value="EUR">EUR (€)</option>
                            <option value="GBP">GBP (£)</option>
                            <option value="JPY">JPY (¥)</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="save-cost-settings">Save Settings</button>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-light py-4 mt-auto border-top">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-3 mb-md-0">
                    <h6 class="text-uppercase fw-bold mb-2">Steel Profile Calculator Pro</h6>
                    <p class="small text-muted mb-0">Professional engineering tool for structural calculations compliant with international standards.</p>
                </div>
                <div class="col-md-4 mb-3 mb-md-0">
                    <h6 class="text-uppercase fw-bold mb-2">Supported Standards</h6>
                    <ul class="list-unstyled small mb-0">
                        <li><span class="text-muted">European:</span> EN 10025, EN 10210, EN 10219</li>
                        <li><span class="text-muted">American:</span> ASTM A36, AISC</li>
                        <li><span class="text-muted">International:</span> ISO, JIS, GB/T, IS</li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h6 class="text-uppercase fw-bold mb-2">About</h6>
                    <p class="small text-muted mb-2">Version 2.0 - Professional Edition</p>
                    <p class="small text-muted mb-0">&copy; <span id="current-year"></span> EnginExcel - All rights reserved</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Row Template (Hidden) -->
    <template id="row-template">
        <tr class="material-row">
            <td>
                <select class="form-select form-select-sm profile-type">
                    <option value="">Select type</option>
                    <option value="IPE">IPE</option>
                    <option value="HEA">HEA</option>
                    <option value="HEB">HEB</option>
                    <option value="UNP">UNP</option>
                    <option value="RHS">RHS</option>
                    <option value="SHS">SHS</option>
                    <option value="ROUND_PIPE">Round pipe</option>
                    <option value="FLAT_BAR">Flat bar</option>
                </select>
            </td>
            <td>
                <select class="form-select form-select-sm profile-size" disabled>
                    <option value="">Select size</option>
                </select>
            </td>
            <td>
                <input type="number" class="form-control form-control-sm length" value="1000">
            </td>
            <td>
                <select class="form-select form-select-sm unit" style="min-width: 90px;">
                    <option value="mm">mm</option>
                    <option value="m">m</option>
                    <option value="inch">inch</option>
                    <option value="ft">ft</option>
                </select>
            </td>
            <td>
                <input type="number" class="form-control form-control-sm quantity" value="1" min="1">
            </td>
            <td>
                <div class="d-flex align-items-center">
                    <input type="text" class="form-control form-control-sm weight-per-meter" readonly>
                    <span class="unit-label ms-1">kg/m</span>
                </div>
            </td>
            <td>
                <div class="d-flex align-items-center">
                    <input type="text" class="form-control form-control-sm total-weight" readonly>
                    <span class="unit-label ms-1">kg</span>
                </div>
            </td>
            <td>
                <div class="d-flex align-items-center">
                    <input type="text" class="form-control form-control-sm volume" readonly>
                    <span class="unit-label ms-1">m³</span>
                </div>
            </td>
            <td>
                <div class="d-flex align-items-center">
                    <input type="text" class="form-control form-control-sm surface-area" readonly>
                    <span class="unit-label ms-1">m²</span>
                </div>
            </td>
            <td class="text-center">
                <button class="btn btn-sm btn-outline-secondary rounded-circle delete-row p-1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                        <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"/>
                        <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"/>
                    </svg>
                </button>
            </td>
        </tr>
    </template>

    <script>
        // Use the embedded profile data instead of loading from JSON
        const profileData = {
            profiles: PROFILE_DATA,
            
            // No need to load profiles anymore as they're embedded
            async loadProfiles() {
                console.log('Using embedded profile data');
                return this.profiles;
            },
            
            getProfileTypes() {
                return Object.keys(this.profiles);
            },
            
            getProfilesByType(type) {
                if (!this.profiles[type]) return [];
                return this.profiles[type];
            },
            
            getProfile(type, name) {
                if (!this.profiles[type]) return null;
                return this.profiles[type].find(profile => profile.name === name) || null;
            },
            
            calculateWeight(type, name, length, quantity = 1, unit = 'mm') {
                const profile = this.getProfile(type, name);
                if (!profile) return 0;
                
                const lengthInMeters = unit === 'mm' ? length / 1000 : length;
                return profile.weightPerMeter * lengthInMeters * quantity;
            },
            
            calculateVolume(type, name, length, quantity = 1, unit = 'mm', density = 7850) {
                const totalWeight = this.calculateWeight(type, name, length, quantity, unit);
                return totalWeight / density;
            },
            
            calculateSurfaceArea(type, name, length, quantity = 1, unit = 'mm') {
                const profile = this.getProfile(type, name);
                if (!profile) return 0;
                
                const lengthInMeters = unit === 'mm' ? length / 1000 : length;
                return profile.surfaceAreaPerMeter * lengthInMeters * quantity;
            }
        };
    </script>
    <!-- Load profile data first -->
    <script src="js/profiles.js"></script>
    <!-- Then load data module that uses profile data -->
    <script src="js/data.js"></script>
    <!-- Finally load the main application logic -->
    <script src="js/app.js"></script>
</body>
</html>
